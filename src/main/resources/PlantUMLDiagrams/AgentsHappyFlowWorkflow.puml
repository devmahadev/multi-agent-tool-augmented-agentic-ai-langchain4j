@startuml
actor GateOpsClient

participant GateAgentController
participant GateAgentOrchestration
participant FlightStatusService
participant GateChangeService
participant PassengerManifestService
participant BoardingService
participant NotificationService
participant AuditService
note over GateOpsClient, GateAgentController #FFAAAA:   Diagram by Deepak Hirenwal.

== Check Flight Status ==
GateOpsClient -> GateAgentController : GET /flight/status?flightId=HV6734
GateAgentController -> GateAgentOrchestration : fetchFlightStatus(flightId)
GateAgentOrchestration -> FlightStatusService : getStatus(flightId)
FlightStatusService --> GateAgentOrchestration : statusData
GateAgentOrchestration --> GateAgentController : statusData
GateAgentController --> GateOpsClient : 200 OK + statusData

== Gate Change Notification ==
GateOpsClient -> GateAgentController : POST /gate/change?flightId=HV6734&newGate=G5
GateAgentController -> GateAgentOrchestration : updateGateAssignment(flightId, newGate)
GateAgentOrchestration -> GateChangeService : assignGate(flightId, newGate)
GateChangeService --> GateAgentOrchestration : gateUpdated
GateAgentOrchestration -> NotificationService : notifyGateChange(flightId, newGate)
NotificationService --> GateAgentOrchestration : notificationSent
GateAgentOrchestration -> AuditService : logEvent("Gate changed to G5")
AuditService --> GateAgentOrchestration : logged
GateAgentOrchestration --> GateAgentController : gateUpdated
GateAgentController --> GateOpsClient : 200 OK + gateUpdated

== Retrieve Passenger Manifest ==
GateOpsClient -> GateAgentController : GET /manifest?flightId=HV6734
GateAgentController -> GateAgentOrchestration : fetchManifest(flightId)
GateAgentOrchestration -> PassengerManifestService : getManifest(flightId)
PassengerManifestService --> GateAgentOrchestration : manifestData
GateAgentOrchestration --> GateAgentController : manifestData
GateAgentController --> GateOpsClient : 200 OK + manifestData

== Start Boarding ==
GateOpsClient -> GateAgentController : POST /boarding/start?flightId=HV6734
GateAgentController -> GateAgentOrchestration : initiateBoarding(flightId)
GateAgentOrchestration -> BoardingService : startBoarding(flightId)
BoardingService --> GateAgentOrchestration : boardingStarted
GateAgentOrchestration -> NotificationService : notifyBoardingStarted(flightId)
NotificationService --> GateAgentOrchestration : notificationSent
GateAgentOrchestration -> AuditService : logEvent("Boarding started")
AuditService --> GateAgentOrchestration : logged
GateAgentOrchestration --> GateAgentController : boardingStarted
GateAgentController --> GateOpsClient : 200 OK + boardingStarted

== Check Missing Pax ==
GateOpsClient -> GateAgentController : GET /boarding/missing-pax?flightId=HV6734
GateAgentController -> GateAgentOrchestration : getMissingPax(flightId)
GateAgentOrchestration -> BoardingService : getBoardedPassengers(flightId)
GateAgentOrchestration -> PassengerManifestService : getManifest(flightId)
GateAgentOrchestration -> GateAgentOrchestration : compare(manifest, boarded)
GateAgentOrchestration -> NotificationService : alertMissingPax(list)
NotificationService --> GateAgentOrchestration : alertSent
GateAgentOrchestration --> GateAgentController : missingPaxList
GateAgentController --> GateOpsClient : 200 OK + missingPaxList
@enduml